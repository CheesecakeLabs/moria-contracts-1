{"version":3,"sources":["../../app/javascripts/routes.js"],"names":["express","require","app","api","init","get","req","res","send","getBalance","params","then","result","getTotalTokens","getOutstandingDividends","payOutstandingDividends","value","console","log","post","body","address","callback","amount","mintTokens","minted","listen"],"mappings":";;AAAA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMC,MAAMF,SAAZ;;AAEA,IAAIG,MAAMF,QAAQ,UAAR,CAAV;AACAE,IAAIC,IAAJ;;AAEAF,IAAIG,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN;AAAA,SAAcA,IAAIC,IAAJ,CAAS,cAAT,CAAd;AAAA,CAAb;;AAEAN,IAAIG,GAAJ,CAAQ,uBAAR,EAAiC,UAACC,GAAD,EAAMC,GAAN;AAAA,SACzBJ,IAAIM,UAAJ,CAAeH,IAAII,MAAJ,CAAW,SAAX,CAAf,EAAsCC,IAAtC,CAA2C,UAASC,MAAT,EAAiB;AAC1DL,QAAIC,IAAJ,CAAS,EAAC,SAAUI,MAAX,EAAT;AACD,GAFD,CADyB;AAAA,CAAjC;;AAKAV,IAAIG,GAAJ,CAAQ,YAAR,EAAsB,UAACC,GAAD,EAAMC,GAAN;AAAA,SACdJ,IAAIU,cAAJ,GAAqBF,IAArB,CAA0B,UAASC,MAAT,EAAiB;AACzCL,QAAIC,IAAJ,CAAS,EAAC,SAAUI,MAAX,EAAT;AACD,GAFD,CADc;AAAA,CAAtB;;AAKAV,IAAIG,GAAJ,CAAQ,yBAAR,EAAmC,UAACC,GAAD,EAAMC,GAAN;AAAA,SAC3BJ,IAAIW,uBAAJ,CAA4BR,IAAII,MAAJ,CAAW,SAAX,CAA5B,EAAmDC,IAAnD,CAAwD,UAASC,MAAT,EAAiB;AACvEL,QAAIC,IAAJ,CAAS,EAAC,QAASI,MAAV,EAAT;AACD,GAFD,CAD2B;AAAA,CAAnC;;AAKAV,IAAIG,GAAJ,CAAQ,mBAAR,EAA6B,UAACC,GAAD,EAAMC,GAAN;AAAA,SACrBJ,IAAIY,uBAAJ,CAA4BT,IAAII,MAAJ,CAAW,SAAX,CAA5B,EAAmD,UAAUM,KAAV,EAAiB;AAACC,YAAQC,GAAR,CAAYF,KAAZ;AAAoB,GAAzF,EAA4FL,IAA5F,CAAiG,UAASC,MAAT,EAAiB;AAChHL,QAAIC,IAAJ,CAASI,MAAT;AACD,GAFD,CADqB;AAAA,CAA7B;;AAKAV,IAAIiB,IAAJ,CAAS,WAAT,EAAsB,UAACb,GAAD,EAAMC,GAAN,EAAc;AAClC,MAAIG,SAASJ,IAAIc,IAAjB;AACA,MAAIC,UAAUX,OAAO,SAAP,CAAd;AACA,MAAIY,WAAWZ,OAAO,UAAP,CAAf;AACD,CAJD;;AAMAR,IAAIG,GAAJ,CAAQ,4BAAR,EAAsC,UAACC,GAAD,EAAMC,GAAN,EAAc;AAClD,MAAIc,UAAUf,IAAII,MAAJ,CAAW,SAAX,CAAd;AACA,MAAIa,SAASjB,IAAII,MAAJ,CAAW,QAAX,CAAb;AACAP,MAAIqB,UAAJ,CAAeH,OAAf,EAAwBE,MAAxB,EAAgC,UAAUE,MAAV,EAAkB;AAChDR,YAAQC,GAAR,CAAY,cAAcO,MAA1B;AAAkC,GADpC,EACsCd,IADtC,CAC2C,UAASC,MAAT,EAAiB;AACxDL,QAAIC,IAAJ,CAASI,MAAT;AACD,GAHH;AAGK,CANP;;AAQAV,IAAIiB,IAAJ,CAAS,4BAAT,EAAuC,UAACb,GAAD,EAAMC,GAAN,EAAc,CAAE,CAAvD;;AAEAL,IAAIwB,MAAJ,CAAW,IAAX,EAAiB;AAAA,SAAMT,QAAQC,GAAR,CAAY,0BAAZ,CAAN;AAAA,CAAjB","file":"routes.js","sourcesContent":["const express = require('express')\nconst app = express()\n\nvar api = require(\"./api.js\")\napi.init();\n\napp.get('/', (req, res) => res.send('Hello World!'))\n\napp.get('/api/balance/:address', (req, res) => \n        api.getBalance(req.params[\"address\"]).then(function(result) {\n          res.send({\"total\" : result});\n        }));\n\napp.get('/api/total', (req, res) => \n        api.getTotalTokens().then(function(result) {\n          res.send({\"total\" : result});          \n        }));\n\napp.get('/api/dividends/:address', (req, res) =>\n        api.getOutstandingDividends(req.params[\"address\"]).then(function(result) {\n          res.send({\"owed\" : result});\n        }));\n\napp.get('/api/pay/:address', (req, res) =>\n        api.payOutstandingDividends(req.params[\"address\"], function (value) {console.log(value);} ).then(function(result) {\n          res.send(result);\n        }));\n\napp.post('/api/pay/', (req, res) => {\n  var params = req.body;\n  var address = params['address'];\n  var callback = params['callback'];\n});\n\napp.get('/api/mint/:address/:amount', (req, res) => {\n  var address = req.params[\"address\"];\n  var amount = req.params[\"amount\"];\n  api.mintTokens(address, amount, function (minted) {\n    console.log(\"minted = \" + minted)}).then(function(result) {\n      res.send(result);\n    })});\n\napp.post('/api/mint/:address/:amount', (req, res) => {});\n\napp.listen(3000, () => console.log('API active on port 3000!'))\n"]}